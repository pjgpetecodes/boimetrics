[{"C:\\repos\\avanade\\boi\\copilot-metrics-viewer\\src\\main.ts":"1","C:\\repos\\avanade\\boi\\copilot-metrics-viewer\\src\\plugins\\webfontloader.ts":"2","C:\\repos\\avanade\\boi\\copilot-metrics-viewer\\src\\plugins\\vuetify.ts":"3","C:\\repos\\avanade\\boi\\copilot-metrics-viewer\\src\\App.vue":"4","C:\\repos\\avanade\\boi\\copilot-metrics-viewer\\src\\components\\MainComponent.vue":"5","C:\\repos\\avanade\\boi\\copilot-metrics-viewer\\src\\components\\MetricsViewer.vue":"6","C:\\repos\\avanade\\boi\\copilot-metrics-viewer\\src\\components\\CopilotChatViewer.vue":"7","C:\\repos\\avanade\\boi\\copilot-metrics-viewer\\src\\components\\BreakdownComponent.vue":"8","C:\\repos\\avanade\\boi\\copilot-metrics-viewer\\src\\components\\SeatsAnalysisViewer.vue":"9","C:\\repos\\avanade\\boi\\copilot-metrics-viewer\\src\\components\\ApiResponse.vue":"10","C:\\repos\\avanade\\boi\\copilot-metrics-viewer\\src\\api\\GitHubApi.ts":"11","C:\\repos\\avanade\\boi\\copilot-metrics-viewer\\src\\api\\ExtractSeats.ts":"12","C:\\repos\\avanade\\boi\\copilot-metrics-viewer\\src\\model\\Breakdown.ts":"13","C:\\repos\\avanade\\boi\\copilot-metrics-viewer\\src\\model\\Seat.ts":"14","C:\\repos\\avanade\\boi\\copilot-metrics-viewer\\src\\model\\Metrics.ts":"15"},{"size":255,"mtime":1719840972800,"results":"16","hashOfConfig":"17"},{"size":375,"mtime":1719840972812,"results":"18","hashOfConfig":"17"},{"size":247,"mtime":1719840972811,"results":"19","hashOfConfig":"17"},{"size":386,"mtime":1719840972754,"results":"20","hashOfConfig":"17"},{"size":46699,"mtime":1719840974795,"results":"21","hashOfConfig":"17"},{"size":9173,"mtime":1719840972797,"results":"22","hashOfConfig":"17"},{"size":5230,"mtime":1719840972794,"results":"23","hashOfConfig":"17"},{"size":8186,"mtime":1719840972790,"results":"24","hashOfConfig":"17"},{"size":5538,"mtime":1719840972798,"results":"25","hashOfConfig":"17"},{"size":2911,"mtime":1719840974787,"results":"26","hashOfConfig":"17"},{"size":42755,"mtime":1719840974757,"results":"27","hashOfConfig":"17"},{"size":2403,"mtime":1719840972756,"results":"28","hashOfConfig":"17"},{"size":576,"mtime":1719840972802,"results":"29","hashOfConfig":"17"},{"size":666,"mtime":1719840972806,"results":"30","hashOfConfig":"17"},{"size":1866,"mtime":1719840972804,"results":"31","hashOfConfig":"17"},{"filePath":"32","messages":"33","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"34"},"78m9d9",{"filePath":"35","messages":"36","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"34"},{"filePath":"37","messages":"38","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"34"},{"filePath":"39","messages":"40","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"41"},{"filePath":"42","messages":"43","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"44","messages":"45","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"41"},{"filePath":"46","messages":"47","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"41"},{"filePath":"48","messages":"49","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"41"},{"filePath":"50","messages":"51","errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"52","usedDeprecatedRules":"41"},{"filePath":"53","messages":"54","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"55","messages":"56","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"57","messages":"58","errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"59","usedDeprecatedRules":"34"},{"filePath":"60","messages":"61","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"34"},{"filePath":"62","messages":"63","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"34"},{"filePath":"64","messages":"65","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"34"},"C:\\repos\\avanade\\boi\\copilot-metrics-viewer\\src\\main.ts",[],[],"C:\\repos\\avanade\\boi\\copilot-metrics-viewer\\src\\plugins\\webfontloader.ts",[],"C:\\repos\\avanade\\boi\\copilot-metrics-viewer\\src\\plugins\\vuetify.ts",[],"C:\\repos\\avanade\\boi\\copilot-metrics-viewer\\src\\App.vue",[],[],"C:\\repos\\avanade\\boi\\copilot-metrics-viewer\\src\\components\\MainComponent.vue",[],"C:\\repos\\avanade\\boi\\copilot-metrics-viewer\\src\\components\\MetricsViewer.vue",[],"C:\\repos\\avanade\\boi\\copilot-metrics-viewer\\src\\components\\CopilotChatViewer.vue",[],"C:\\repos\\avanade\\boi\\copilot-metrics-viewer\\src\\components\\BreakdownComponent.vue",[],"C:\\repos\\avanade\\boi\\copilot-metrics-viewer\\src\\components\\SeatsAnalysisViewer.vue",["66"],"<template>\r\n    <div class=\"tiles-container\">      \r\n        <v-card elevation=\"4\" color=\"white\" variant=\"elevated\" class=\"mx-auto my-3\" style=\"width: 300px; height: 175px;\">\r\n            <v-card-item class=\"d-flex justify-center align-center\">\r\n                <div class=\"tiles-text\">\r\n                    <div class=\"text-overline mb-1\" style=\"visibility: hidden;\">filler</div>\r\n                    <div class=\"text-h6 mb-1\">Total Assigned  </div>\r\n                    <div class=\"text-caption\">\r\n                        Currently assigned seats\r\n                    </div>\r\n                    <p class=\"text-h4\">{{ totalSeats.length }}</p>\r\n                </div>\r\n            </v-card-item>\r\n        </v-card>\r\n\r\n        <v-card elevation=\"4\" color=\"white\" variant=\"elevated\" class=\"mx-auto my-3\" style=\"width: 300px; height: 175px;\">\r\n            <v-card-item class=\"d-flex justify-center align-center\">\r\n                <div class=\"tiles-text\">\r\n                    <div class=\"text-overline mb-1\" style=\"visibility: hidden;\">filler</div>\r\n                    <div class=\"text-h6 mb-1\">Assigned But Never Used</div>\r\n                    <div class=\"text-caption\">\r\n                        No show seats\r\n                    </div>\r\n                    <p class=\"text-h4\">{{ NoshowSeats.length }}</p>\r\n                </div>\r\n            </v-card-item>\r\n        </v-card>\r\n        <v-card elevation=\"4\" color=\"white\" variant=\"elevated\" class=\"mx-auto my-3\" style=\"width: 300px; height: 175px;\">\r\n            <v-card-item class=\"d-flex justify-center align-center\">\r\n                <div class=\"tiles-text\">\r\n                    <div class=\"text-overline mb-1\" style=\"visibility: hidden;\">filler</div>\r\n                    <div class=\"text-h6 mb-1\">No Activity in the Last 7 days </div>\r\n                    <div class=\"text-caption\">\r\n                        No use in the last 7 days\r\n                    </div>\r\n                    <p class=\"text-h4\">{{ unusedSeats.length }}</p>\r\n                </div>\r\n            </v-card-item>\r\n        </v-card>\r\n    </div>\r\n    \r\n    <div>\r\n        <v-main class=\"p-1\" style=\"min-height: 300px;\">\r\n            <v-container style=\"min-height: 300px;\" class=\"px-4 elevation-2\">\r\n                <br>\r\n                <h2>All assigned seats </h2>\r\n                <br>\r\n            <v-data-table :headers=\"headers\" :items=\"totalSeats\" :items-per-page=\"10\" class=\"elevation-2\">\r\n                <template v-slot:item=\"{ item }\">\r\n                    <tr>\r\n                        <td>{{ item.login }}</td>\r\n                        <td>{{ item.id }}</td>\r\n                        <td>{{ item.created_at }}</td>\r\n                        <td>{{ item.last_activity_at }}</td>\r\n                        <td>{{ item.last_activity_editor }}</td>\r\n                    </tr>\r\n                </template>\r\n                </v-data-table>\r\n            </v-container>\r\n        </v-main>\r\n    </div>\r\n</template>\r\n  \r\n<script lang=\"ts\">\r\n  import { defineComponent, ref, toRef , watchEffect } from 'vue';\r\n  import { Seat } from '../model/Seat';\r\n  import {\r\n    Chart as ChartJS,\r\n    ArcElement,\r\n    CategoryScale,\r\n    LinearScale,\r\n    PointElement,\r\n    LineElement,\r\n    BarElement,\r\n    Title,\r\n    Tooltip,\r\n    Legend\r\n    } from 'chart.js'\r\n\r\nChartJS.register(\r\n  ArcElement, \r\n  CategoryScale,\r\n  LinearScale,\r\n  BarElement,\r\n  PointElement,\r\n  LineElement,\r\n  Title,\r\n  Tooltip,\r\n  Legend\r\n)\r\n\r\nexport default defineComponent({\r\nname: 'SeatsAnalysisViewer',\r\nprops: {\r\n        seats: {\r\n            type: Array as () => Seat[],\r\n            required: true,\r\n            default: () => []  \r\n        }\r\n    },\r\ndata() {\r\n    return {\r\n        headers: [\r\n            { title: 'Login', key: 'login' },\r\n            { title: 'GitHub ID', key: 'id' },\r\n            { title: 'Assigned to the Organization At', key: 'created_at' },\r\n            { title: 'Last Activity At', key: 'last_activity_at' },\r\n            { title: 'Last Activity Editor', key: 'last_activity_editor' },\r\n        ],\r\n    };\r\n},\r\nsetup(props) {\r\n    let totalSeats = ref<Seat[]>([]);\r\n    let NoshowSeats = ref<Seat[]>([]);\r\n    const unusedSeats = ref<Seat[]>([]);\r\n\r\n    watchEffect(() => {\r\n        if (props.seats && Array.isArray(props.seats)) {\r\n            totalSeats.value = props.seats;\r\n\r\n            const oneWeekAgo = new Date();\r\n            oneWeekAgo.setDate(oneWeekAgo.getDate() - 7);\r\n\r\n            NoshowSeats.value = props.seats.filter(seat => seat.last_activity_at == null);\r\n\r\n            unusedSeats.value = totalSeats.value.filter(seat => {\r\n                if (seat.last_activity_at === null) {\r\n                    return true; // consider to include the last activity date is null to the unused seats\r\n                }\r\n\r\n                const lastActivityDate = new Date(seat.last_activity_at);\r\n                return lastActivityDate < oneWeekAgo;\r\n            });\r\n            // to sort  unusedSeats by last_activity_at\r\n            unusedSeats.value.sort((a, b) => {\r\n                if (a.last_activity_at === null) {\r\n                    return -1;\r\n                }\r\n                if (b.last_activity_at === null) {\r\n                    return 1;\r\n                }\r\n                return new Date(a.last_activity_at) > new Date(b.last_activity_at) ? 1 : -1;\r\n            });\r\n        } else {\r\n            throw new Error('Invalid number of seats');\r\n        }\r\n\r\n    });\r\n\r\n    return {\r\n        totalSeats,\r\n        NoshowSeats,\r\n        unusedSeats\r\n    }\r\n}   \r\n  \r\n});\r\n</script>\r\n","C:\\repos\\avanade\\boi\\copilot-metrics-viewer\\src\\components\\ApiResponse.vue",[],"C:\\repos\\avanade\\boi\\copilot-metrics-viewer\\src\\api\\GitHubApi.ts",[],"C:\\repos\\avanade\\boi\\copilot-metrics-viewer\\src\\api\\ExtractSeats.ts",["67"],"// TypeScript\r\nimport axios from \"axios\";\r\nimport { Seat } from \"../model/Seat\";\r\n\r\nimport organizationMockedResponse_seats from '../assets/organization_response_sample_seats.json';\r\nimport enterpriseMockedResponse_seats from '../assets/enterprise_response_sample_seats.json';\r\n\r\nexport const getSeatsApi = async (): Promise<Seat[]> => {\r\n  const perPage = 50;\r\n  let page = 1;\r\n  let seatsData: Seat[] = [];\r\n\r\n  let response;\r\n  if (process.env.VUE_APP_SCOPE !== \"organization\") {\r\n    // when the scope is not organization, return seatsData,by default it will return empty array\r\n    return seatsData;\r\n  }\r\n  else{\r\n    if (process.env.VUE_APP_MOCKED_DATA === \"true\") {\r\n      response = organizationMockedResponse_seats;\r\n      seatsData = seatsData.concat(response.seats.map((item: any) => new Seat(item)));\r\n    } \r\n    else if (process.env.VUE_APP_MOCKED_DATA === \"false\") {\r\n    // Fetch the first page to get the total number of seats\r\n      response = await axios.get(`https://api.github.com/orgs/${process.env.VUE_APP_GITHUB_ORG}/copilot/billing/seats`, {\r\n        headers: {\r\n          Accept: \"application/vnd.github+json\",\r\n          Authorization: `Bearer ${process.env.VUE_APP_GITHUB_TOKEN}`,\r\n          \"X-GitHub-Api-Version\": \"2022-11-28\",\r\n        },\r\n        params: {\r\n          per_page: perPage,\r\n          page: page\r\n        }\r\n      });\r\n\r\n      seatsData = seatsData.concat(response.data.seats.map((item: any) => new Seat(item)));\r\n      // Calculate the total pages\r\n      const totalSeats = response.data.total_seats;\r\n      const totalPages = Math.ceil(totalSeats / perPage);\r\n\r\n      // Fetch the remaining pages\r\n      for (page = 2; page <= totalPages; page++) {\r\n        response = await axios.get(`https://api.github.com/orgs/${process.env.VUE_APP_GITHUB_ORG}/copilot/billing/seats`, {\r\n          headers: {\r\n            Accept: \"application/vnd.github+json\",\r\n            Authorization: `Bearer ${process.env.VUE_APP_GITHUB_TOKEN}`,\r\n            \"X-GitHub-Api-Version\": \"2022-11-28\",\r\n          },\r\n          params: {\r\n            per_page: perPage,\r\n            page: page\r\n          }\r\n        });\r\n\r\n        seatsData = seatsData.concat(response.data.seats.map((item: any) => new Seat(item)));\r\n      } //end of else if (process.env.VUE_APP_MOCKED_DATA === \"false\")\r\n  }  //end of else if (process.env.VUE_APP_SCOPE !== \"organization\")\r\n  return seatsData;\r\n}\r\n}","C:\\repos\\avanade\\boi\\copilot-metrics-viewer\\src\\model\\Breakdown.ts",[],"C:\\repos\\avanade\\boi\\copilot-metrics-viewer\\src\\model\\Seat.ts",[],"C:\\repos\\avanade\\boi\\copilot-metrics-viewer\\src\\model\\Metrics.ts",[],{"ruleId":"68","severity":1,"message":"69","line":65,"column":34,"nodeType":"70","messageId":"71","endLine":65,"endColumn":39},{"ruleId":"68","severity":1,"message":"72","line":6,"column":8,"nodeType":"70","messageId":"71","endLine":6,"endColumn":38},"@typescript-eslint/no-unused-vars","'toRef' is defined but never used.","Identifier","unusedVar","'enterpriseMockedResponse_seats' is defined but never used."]